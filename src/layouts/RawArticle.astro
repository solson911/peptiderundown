---
import Base from './Base.astro';

const { frontmatter } = Astro.props;
const formattedDate = new Date(frontmatter.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
---
<Base title={frontmatter.title} description={frontmatter.description}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 py-12 md:flex md:gap-8">
    <article class="md:flex-1 min-w-0">
      {frontmatter.image && (
        <div class="mb-8 -mx-4 sm:mx-0">
          <img src={frontmatter.image} alt={frontmatter.title} class="w-full rounded-none sm:rounded-2xl shadow-lg object-cover max-h-96" loading="eager" />
        </div>
      )}
      <div class="mb-4">
        {frontmatter.category && <span class="text-xs font-semibold uppercase tracking-wider text-teal-700 bg-teal-50 px-2 py-1 rounded">{frontmatter.category}</span>}
      </div>
      <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-3">{frontmatter.title}</h1>
      <p class="text-gray-500 text-sm mb-2">{frontmatter.description}</p>
      <div class="text-gray-400 text-xs mb-8">By <strong>{frontmatter.author || 'PeptideRundown Team'}</strong> Â· {formattedDate}</div>
      <div class="prose prose-lg max-w-none">
        <slot />
      </div>
    </article>
  </div>
</Base>
